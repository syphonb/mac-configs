---
- name: Install reflector
  become: true
  pacman:
    name: reflector
    state: present
    update_cache: true
    
- name: Refresh pacman mirrors
  command: >
    reflector --country AU --latest 10 --sort rate
    --save /etc/pacman.d/mirrorlist
  changed_when: false

- name: Update system
  pacman:
    update_cache: yes
    upgrade: yes

- name: Install base build tools
  pacman:
    name:
      - base-devel
      - git
    state: present
